<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Classer les animaux | Sauvages vs Domestiques</title>
<style>
  :root{
    --bg:#f7fafc;--card:#ffffff;--ink:#0f172a;--muted:#64748b;--brand:#2563eb;--ok:#10b981;--bad:#ef4444;--shadow:0 14px 38px rgba(15,23,42,.08);--radius:16px
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#f8fafc,#eef2f7 60%,#e8eef7);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,"PingFang SC","Noto Sans CJK SC","Microsoft YaHei",sans-serif;color:var(--ink)}
  .wrap{max-width:1100px;margin:22px auto 64px;padding:0 18px}
  header{display:flex;align-items:center;gap:12px}
  .logo{width:38px;height:38px;border-radius:10px;background:#e0f2fe;display:grid;place-items:center;font-size:20px}
  h1{margin:0;font-size:24px}
  .sub{color:var(--muted);font-size:13px}
  .hud{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:14px 0}
  .btn{appearance:none;border:0;background:var(--brand);color:#fff;padding:9px 12px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 10px 18px rgba(37,99,235,.25)}
  .btn.ghost{background:#eef2ff;color:#1e40af}
  .select{padding:8px 10px;border-radius:10px;border:1px solid #cbd5e1;background:#fff}
  .stat{padding:8px 12px;background:#fff;border:1px solid #e6ebf2;border-radius:10px}

  .board{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  .col{background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow);border:1px solid #e6ebf2;min-height:340px}
  .col h2{margin:0 0 10px;font-size:16px;color:#1e293b;display:flex;align-items:center;gap:8px}

  .pool{display:grid;grid-template-columns:repeat(auto-fill, minmax(150px,1fr));gap:10px}
  .chip{user-select:none;background:#fff;border:1px solid #e6ebf2;border-radius:12px;padding:8px 10px;box-shadow:0 6px 14px rgba(2,6,23,.06);display:flex;align-items:center;justify-content:center;gap:8px;cursor:grab}
  .chip:active{cursor:grabbing;transform:scale(.98)}
  .chip .fr{font-weight:700}
  .chip .speak{border:1px solid #cbd5e1;background:#eef2ff;color:#1e40af;font-size:12px;padding:2px 6px;border-radius:8px;cursor:pointer}

  .bins{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .bin{min-height:180px;background:#fbfdff;border:2px dashed #d7deea;border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;transition:border-color .12s ease, background .12s ease}
  .bin[data-hover="1"]{border-color:var(--brand);background:#f0f7ff}
  .bin-title{font-weight:800;letter-spacing:.3px;margin-bottom:2px}
  .bin .slot{min-height:42px;border:1px dashed #e2e8f0;border-radius:10px;padding:6px;display:flex;align-items:center;gap:8px}
  .emoji{font-size:20px}
  .ok{background:#ecfdf5;border-color:#a7f3d0}
  .bad{background:#fef2f2;border-color:#fecaca}

  footer{margin-top:14px;color:var(--muted);font-size:12px}
  .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#111827;color:#fff;padding:10px 14px;border-radius:12px;opacity:0;pointer-events:none;transition:opacity .25s ease}
  .toast.show{opacity:1}

  @media (max-width:900px){.board{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">ğŸ§©</div>
      <div>
        <h1>Classer les animaux â€” Sauvages vs Domestiques</h1>
        <div class="sub">æŠŠåŠ¨ç‰©æ‹–å…¥æ­£ç¡®çš„åˆ†ç±»æ¡†ã€‚æ­£ç¡®åˆ™æ”¾å…¥å¹¶è®¡åˆ†ï¼Œé”™è¯¯åˆ™ç•™åœ¨å·¦ä¾§ã€‚æ”¯æŒæ³•è¯­å‘éŸ³ğŸ”Š</div>
      </div>
    </header>

    <div class="hud">
      <button class="btn" id="startBtn">å¼€å§‹æ–°ä¸€è½®</button>
      <button class="btn ghost" id="revealBtn">æ˜¾ç¤ºç­”æ¡ˆ</button>
      <label>é¢˜é‡ï¼š
        <select id="count" class="select">
          <option>8</option>
          <option selected>12</option>
          <option>16</option>
          <option>20</option>
        </select>
      </label>
      <label>èŒƒå›´ï¼š
        <select id="scope" class="select">
          <option value="all" selected>å…¨éƒ¨</option>
          <option value="sauvage">ä»…é‡ç”Ÿ</option>
          <option value="domestique">ä»…å®¶ç•œ</option>
        </select>
      </label>
      <div class="stat">å¾—åˆ† <span id="score">0</span>/<span id="total">0</span></div>
      <div class="stat">ç”¨æ—¶ <span id="time">00:00</span></div>
    </div>

    <div class="board">
      <section class="col">
        <h2>â‘  æ‹–æ‹½è¿™äº›åŠ¨ç‰©ï¼ˆæ³•è¯­ï¼‰</h2>
        <div class="pool" id="pool"></div>
      </section>
      <section class="col">
        <h2>â‘¡ åˆ†ç±»ï¼ˆSauvages | Domestiquesï¼‰</h2>
        <div class="bins">
          <div class="bin" id="binS" data-type="sauvage">
            <div class="bin-title">ğŸŸ¢ Animaux sauvagesï¼ˆé‡ç”ŸåŠ¨ç‰©ï¼‰</div>
            <div class="slot-list" id="slotS"></div>
          </div>
          <div class="bin" id="binD" data-type="domestique">
            <div class="bin-title">ğŸŸ£ Animaux domestiquesï¼ˆå®¶ç•œï¼‰</div>
            <div class="slot-list" id="slotD"></div>
          </div>
        </div>
      </section>
    </div>

    <footer>ä¿å­˜ä¸º <code>.html</code> åå¯åœ¨ PPT é‡Œä»¥è¶…é“¾æ¥æ‰“å¼€ã€‚å»ºè®®ä½¿ç”¨ Chrome/Edge ä»¥æ”¯æŒå‘éŸ³åŠŸèƒ½ã€‚</footer>
  </div>

  <div class="toast" id="toast">TrÃ¨s bienï¼å·²å…¨éƒ¨åˆ†ç±» âœ…</div>

<script>
// æ•°æ®é›†ï¼šæ³•è¯­ã€ä¸­æ–‡ã€ç±»åˆ«ã€Emoji
const BANK = [
  // Sauvages
  {fr:'le loup', zh:'ç‹¼', cat:'sauvage', emo:'ğŸº'},
  {fr:'l\'ours', zh:'ç†Š', cat:'sauvage', emo:'ğŸ»'},
  {fr:'le renard', zh:'ç‹ç‹¸', cat:'sauvage', emo:'ğŸ¦Š'},
  {fr:'le sanglier', zh:'é‡çŒª', cat:'sauvage', emo:'ğŸ—'},
  {fr:'le liÃ¨vre', zh:'é‡å…”', cat:'sauvage', emo:'ğŸ‡'},
  {fr:'le hÃ©risson', zh:'åˆºçŒ¬', cat:'sauvage', emo:'ğŸ¦”'},
  {fr:'le blaireau', zh:'ç¾', cat:'sauvage', emo:'ğŸ¦¡'},
  {fr:'l\'Ã©cureuil', zh:'æ¾é¼ ', cat:'sauvage', emo:'ğŸ¿ï¸'},
  {fr:'le hibou', zh:'çŒ«å¤´é¹°', cat:'sauvage', emo:'ğŸ¦‰'},
  {fr:'l\'aigle', zh:'é¹°', cat:'sauvage', emo:'ğŸ¦…'},
  {fr:'le lynx', zh:'çŒçŒ', cat:'sauvage', emo:'ğŸ†'},
  {fr:'le castor', zh:'æ²³ç‹¸', cat:'sauvage', emo:'ğŸ¦«'},
  {fr:'le renne', zh:'é©¯é¹¿', cat:'sauvage', emo:'ğŸ¦Œ'},
  {fr:'le phoque', zh:'æµ·è±¹', cat:'sauvage', emo:'ğŸ¦­'},
  {fr:'le dauphin', zh:'æµ·è±š', cat:'sauvage', emo:'ğŸ¬'},
  {fr:'le chamois', zh:'å²©ç¾šç¾Š', cat:'sauvage', emo:'ğŸ¦Œ'},
  {fr:'le bouquetin', zh:'é‡ç”Ÿå±±ç¾Š/åŒ—å±±ç¾Š', cat:'sauvage', emo:'ğŸ'},
  {fr:'le cerf', zh:'é¹¿', cat:'sauvage', emo:'ğŸ«'},
  {fr:'la marmotte', zh:'æ—±ç­', cat:'sauvage', emo:'ğŸ¿ï¸'},

  // Domestiques
  {fr:'le chien', zh:'ç‹—', cat:'domestique', emo:'ğŸ•'},
  {fr:'le chat', zh:'çŒ«', cat:'domestique', emo:'ğŸˆ'},
  {fr:'le cochon', zh:'çŒª', cat:'domestique', emo:'ğŸ–'},
  {fr:'la chÃ¨vre', zh:'å±±ç¾Š', cat:'domestique', emo:'ğŸ'},
  {fr:'le cheval', zh:'é©¬', cat:'domestique', emo:'ğŸ'},
  {fr:'l\'Ã¢ne', zh:'é©´', cat:'domestique', emo:'ğŸ«'},
  {fr:'la poule', zh:'æ¯é¸¡', cat:'domestique', emo:'ğŸ”'},
  {fr:'le coq', zh:'å…¬é¸¡', cat:'domestique', emo:'ğŸ“'},
  {fr:'le canard', zh:'é¸­', cat:'domestique', emo:'ğŸ¦†'},
  {fr:'l\'oie', zh:'é¹…', cat:'domestique', emo:'ğŸª¿'},
  {fr:'la dinde', zh:'ç«é¸¡', cat:'domestique', emo:'ğŸ¦ƒ'},
  {fr:'le lapin domestique', zh:'å®¶å…”', cat:'domestique', emo:'ğŸ‡'},
  {fr:'le pigeon', zh:'é¸½å­', cat:'domestique', emo:'ğŸ•Šï¸'},
  {fr:'le mouton', zh:'ç»µç¾Š', cat:'domestique', emo:'ğŸ‘'},
  {fr:'la brebis', zh:'æ¯ç¾Š', cat:'domestique', emo:'ğŸ‘'},
  {fr:'la vache', zh:'æ¯ç‰›', cat:'domestique', emo:'ğŸ„'}
];

const $ = s => document.querySelector(s);
const $$= s => Array.from(document.querySelectorAll(s));
const shuffle = a => a.sort(()=>Math.random()-0.5);
let picked=[], score=0, total=0, timer=null, t0=0;

function fmt(n){return String(n).padStart(2,'0')}
function startTimer(){ stopTimer(); t0=Date.now(); timer=setInterval(()=>{const dt=Math.floor((Date.now()-t0)/1000);$('#time').textContent=`${fmt(Math.floor(dt/60))}:${fmt(dt%60)}`;},500) }
function stopTimer(){ if(timer){clearInterval(timer); timer=null;} }

function speakFR(text){ try{const u=new SpeechSynthesisUtterance(text); u.lang='fr-FR'; speechSynthesis.speak(u);}catch(e){} }

function pick(){
  const n = parseInt($('#count').value,10);
  const scope = $('#scope').value;
  let pool = BANK.slice();
  if(scope!=='all') pool = pool.filter(x=>x.cat===scope);
  picked = shuffle(pool).slice(0,n);
}

function renderPool(){
  const pool = $('#pool'); pool.innerHTML='';
  picked.forEach((it,i)=>{
    const chip=document.createElement('div');
    chip.className='chip'; chip.draggable=true; chip.dataset.idx=i;
    chip.innerHTML = `<span class="emoji">${it.emo}</span><span class="fr">${it.fr}</span> <button class="speak" title="Lire">ğŸ”Š</button>`;
    chip.querySelector('.speak').addEventListener('click',()=>speakFR(it.fr));
    chip.addEventListener('dragstart',ev=>{ ev.dataTransfer.setData('text/plain', String(i)); ev.dataTransfer.effectAllowed='move'; });
    pool.appendChild(chip);
  });
}

function bindBin(el){
  el.addEventListener('dragover',ev=>{ev.preventDefault(); el.dataset.hover='1'});
  el.addEventListener('dragleave',()=>{el.dataset.hover='0'});
  el.addEventListener('drop',ev=>{
    ev.preventDefault(); el.dataset.hover='0';
    const key = parseInt(ev.dataTransfer.getData('text/plain'),10);
    const item = picked[key]; if(!item) return;
    const need = el.dataset.type; // sauvages/domestiques
    if(item.cat === need){
      // æ­£ç¡®ï¼šæŠŠ chip ç§»åˆ° bin é‡Œå¹¶é”å®š
      const chip = document.querySelector(`.chip[data-idx="${key}"]`);
      if(chip){ chip.draggable=false; chip.style.opacity='.9'; chip.querySelector('.speak').disabled=false; }
      const slot=document.createElement('div'); slot.className='slot ok';
      slot.innerHTML = `<span class="emoji">${item.emo}</span> <strong>${item.fr}</strong> <span style="color:#64748b">â€” ${item.zh}</span>`;
      el.querySelector('.slot-list').appendChild(slot);
      chip && chip.remove();
      score++; $('#score').textContent=score; if(score===total){ toast('TrÃ¨s bienï¼å·²å…¨éƒ¨åˆ†ç±» âœ…'); stopTimer(); }
    } else {
      // é”™è¯¯ï¼šé—ªçº¢
      el.classList.add('bad'); setTimeout(()=>el.classList.remove('bad'),600);
    }
  });
}

function toast(msg){ const t=$('#toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1400); }

function start(){
  pick(); score=0; total=picked.length; $('#score').textContent=0; $('#total').textContent=total;
  $('#slotS').innerHTML=''; $('#slotD').innerHTML='';
  renderPool(); startTimer();
}

function reveal(){
  // æŠŠå‰©ä½™å…¨éƒ¨è‡ªåŠ¨æ”¾å…¥æ­£ç¡®çš„ bin
  $$('.chip').forEach(chip=>{
    const i=Number(chip.dataset.idx); const it=picked[i]; const bin = it.cat==='sauvage' ? $('#binS') : $('#binD');
    const slot=document.createElement('div'); slot.className='slot ok';
    slot.innerHTML = `<span class="emoji">${it.emo}</span> <strong>${it.fr}</strong> <span style=\"color:#64748b\">â€” ${it.zh}</span>`;
    bin.querySelector('.slot-list').appendChild(slot); chip.remove();
  });
  score=total; $('#score').textContent=score; stopTimer(); toast('å·²æ˜¾ç¤ºå…¨éƒ¨ç­”æ¡ˆ');
}

// äº‹ä»¶ç»‘å®š
$('#startBtn').addEventListener('click',start);
$('#revealBtn').addEventListener('click',reveal);
['binS','binD'].forEach(id=> bindBin(document.getElementById(id)) );

// åˆå§‹ä¸€è½®
start();
</script>
</body>
</html>
